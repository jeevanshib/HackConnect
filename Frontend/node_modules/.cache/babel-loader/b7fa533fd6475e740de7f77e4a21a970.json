{"ast":null,"code":"var _jsxFileName = \"/Users/jeevanshibansal/Desktop/HackConnect/Frontend/src/components/login/RegisterForm.js\",\n    _s = $RefreshSig$();\n\nimport { Formik, Form } from 'formik';\nimport RegisterInput from '../../components/inputs/registerInput';\nimport { useState } from 'react';\nimport * as Yup from 'yup';\nimport DateOfBirthSelect from './DateOfBirthSelect';\nimport GenderSelect from './GenderSelect';\nimport HashLoader from \"react-spinners/HashLoader\";\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport Cookie from 'js-cookie';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterForm(_ref) {\n  _s();\n\n  let {\n    setVisible\n  } = _ref;\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userInfos = {\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    password: \"\",\n    bYear: new Date().getFullYear(),\n    bMonth: new Date().getMonth() + 1,\n    bDay: new Date().getDate(),\n    gender: \"\"\n  };\n  const [user, setUser] = useState(userInfos);\n  const {\n    first_name,\n    last_name,\n    email,\n    password,\n    bYear,\n    bMonth,\n    bDay,\n    gender\n  } = user;\n  const yearTemp = new Date().getFullYear();\n\n  const handleRegisterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const years = Array.from(new Array(108), (val, index) => yearTemp - index);\n  const months = Array.from(new Array(12), (val, index) => 1 + index);\n\n  const getDays = () => {\n    return new Date(bYear, bMonth, 0).getDate();\n  };\n\n  const days = Array.from(new Array(getDays()), (val, index) => 1 + index); //   console.log(days);\n  // console.log(user);\n\n  const registerValidation = Yup.object({\n    first_name: Yup.string().required(\"What's your First Name?\").min(2, \"First Name must be between 2 and 16 characters\").max(16, \"First Name must be between 2 and 16 characters\").matches(/^[aA-zZ\\s]+$/, \"Numbers and special Character are not allowed\"),\n    last_name: Yup.string().required(\"What's your Last Name?\").min(2, \"Last Name must be between 2 and 16 characters\").max(16, \"Last Name must be between 2 and 16 characters\").matches(/^[aA-zZ]+$/, \"Numbers and special Character are not allowed\"),\n    email: Yup.string().required(\"You will require this when you try to login or when you need to change your password.\").email(\"Enter a valid Email Address.\"),\n    password: Yup.string().required(\"Password must contain atleast 6 characters, 1 special charater, 1 number, letters\").min(6, \"Password must be atleast 6 characters\").max(36, \"Password must be atleast 6 characters\")\n  });\n  const [dateError, setDateError] = useState(\"\");\n  const [genderError, setGenderError] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const registerSubmit = async () => {\n    try {\n      const {\n        data\n      } = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/register`, {\n        first_name,\n        last_name,\n        email,\n        password,\n        bYear,\n        bMonth,\n        bDay,\n        gender\n      });\n      setError(\"\");\n      setSuccess(data.message);\n      const {\n        message,\n        ...rest\n      } = data;\n      setTimeout(() => {\n        dispatch({\n          type: \"LOGIN\",\n          payload: rest\n        });\n        Cookie.set(\"user\", JSON.stringify(rest));\n        navigate(\"/\");\n      }, 2000);\n    } catch (error) {\n      setLoading(false);\n      setSuccess(\"\");\n      setError(error.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blur absolute top-0 left-0 h-[100%] w-[100%]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] bg-primary shadow-[0_1px_2px] shadow-shadow-1 rounded-[10px] p-[15px] pb-[1rem] w-[350px] h-fit text-primary-color lg:w-[400px] \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex flex-col gap-[10px] pb-[10px] border-b-[1px] border-b-solid border-b-third\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"exit_icon absolute right-0 cursor-pointer\",\n            onClick: () => setVisible(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[32px] font-bold\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[15px] text-secondary-color\",\n            children: \"It's quick and easy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          enableReinitialize: true,\n          initialValues: {\n            first_name,\n            last_name,\n            email,\n            password,\n            bYear,\n            bMonth,\n            bDay,\n            gender\n          },\n          validationSchema: registerValidation,\n          onSubmit: () => {\n            let current_date = new Date();\n            let picked_date = new Date(bYear, bMonth - 1, bDay);\n            let atleast14 = new Date(1970 + 14, 0, 1);\n            let noMoreThan70 = new Date(1970 + 70, 0, 1);\n\n            if (current_date - picked_date < atleast14) {\n              setDateError(\"It looks like you have entered the wrong information. Please make sure you are entering your real date of birth.\");\n            } else if (current_date - picked_date > noMoreThan70) {\n              setDateError(\"It looks like you have entered the wrong information. Please make sure you are entering your real date of birth.\");\n            } else {\n              setDateError(\"\");\n            }\n\n            if (gender === '') {\n              setGenderError(\"Please choose a gender. You can change who can see this later.\");\n            } else {\n              setGenderError(\"\");\n              registerSubmit();\n            }\n          },\n          children: formik => /*#__PURE__*/_jsxDEV(Form, {\n            className: \"w-[100%] flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reg_line lg:w-[370px]\",\n              children: [/*#__PURE__*/_jsxDEV(RegisterInput, {\n                type: \"text\",\n                placeholder: \"First Name\",\n                name: \"first_name\",\n                first: true,\n                onChange: handleRegisterChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RegisterInput, {\n                type: \"text\",\n                placeholder: \"Last Name\",\n                name: \"last_name\",\n                last: true,\n                onChange: handleRegisterChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reg_line\",\n              children: /*#__PURE__*/_jsxDEV(RegisterInput, {\n                type: \"text\",\n                placeholder: \"Mobile Number or Email Address\",\n                name: \"email\",\n                email: true,\n                onChange: handleRegisterChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reg_line\",\n              children: /*#__PURE__*/_jsxDEV(RegisterInput, {\n                type: \"password\",\n                placeholder: \"New Password\",\n                name: \"password\",\n                pass: true,\n                onChange: handleRegisterChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DateOfBirthSelect, {\n              bDay: bDay,\n              bMonth: bMonth,\n              bYear: bYear,\n              days: days,\n              months: months,\n              years: years,\n              handleRegisterChange: handleRegisterChange,\n              dateError: dateError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(GenderSelect, {\n              handleRegisterChange: handleRegisterChange,\n              genderError: genderError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-[11px] mt-[10px] text-secondary-color\",\n              children: [\"By clicking Sign Up, you agree to our \", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-color\",\n                children: \"Terms, Data Policy \\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this), \"and \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-color\",\n                children: \"Cookie Policy.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this), \" You may recieve SMS notifications from us and can opt out at any time.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-[100%] flex items-center justify-center mt-[20px] mx-0 mb-[10px]\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"blue-btn bg-green-color w-[70%] h-[50px] text-[17px] font-bold\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(HashLoader, {\n              loading: loading,\n              color: \"#1C0E7D\",\n              size: 30\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-[#b94a48]\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 27\n            }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-color\",\n              children: success\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 3\n  }, this);\n}\n\n_s(RegisterForm, \"WvyOeTgggS68iWwyPoc1YoqfTP4=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = RegisterForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterForm\");","map":{"version":3,"sources":["/Users/jeevanshibansal/Desktop/HackConnect/Frontend/src/components/login/RegisterForm.js"],"names":["Formik","Form","RegisterInput","useState","Yup","DateOfBirthSelect","GenderSelect","HashLoader","axios","useDispatch","Cookie","useNavigate","RegisterForm","setVisible","dispatch","navigate","userInfos","first_name","last_name","email","password","bYear","Date","getFullYear","bMonth","getMonth","bDay","getDate","gender","user","setUser","yearTemp","handleRegisterChange","e","name","value","target","years","Array","from","val","index","months","getDays","days","registerValidation","object","string","required","min","max","matches","dateError","setDateError","genderError","setGenderError","error","setError","success","setSuccess","loading","setLoading","registerSubmit","data","post","process","env","REACT_APP_BACKEND_URL","message","rest","setTimeout","type","payload","set","JSON","stringify","response","current_date","picked_date","atleast14","noMoreThan70","formik"],"mappings":"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","sourcesContent":["import { Formik, Form } from 'formik';\nimport RegisterInput from '../../components/inputs/registerInput';\nimport {useState} from 'react';\nimport * as Yup from 'yup';\nimport DateOfBirthSelect from './DateOfBirthSelect';\nimport GenderSelect from './GenderSelect';\nimport HashLoader from \"react-spinners/HashLoader\";\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport Cookie from 'js-cookie';\nimport {useNavigate} from 'react-router-dom';\n\nexport default function RegisterForm({setVisible}) {\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n    const userInfos = {\n        first_name: \"\",\n        last_name: \"\",\n        email: \"\",\n        password: \"\",\n        bYear: new Date().getFullYear(),\n        bMonth:new Date().getMonth()+1,\n        bDay:new Date().getDate(),\n        gender:\"\",\n        };\n    const[user, setUser]=useState(userInfos);\n    const {\n        first_name,\n        last_name,\n        email,\n        password,\n        bYear,\n        bMonth,\n        bDay,\n        gender,\n      } = user;\n\n    const yearTemp = new Date().getFullYear();\n    const handleRegisterChange = (e) => {\n        const {name, value} = e.target;\n        setUser({\n            ...user,\n            [name]: value,\n        })\n    }\n    const years = Array.from(new Array(108),(val, index) => yearTemp - index);\n\n    const months = Array.from(new Array(12),(val, index) => 1 + index);\n  const getDays = () => {\n    return new Date(bYear, bMonth, 0).getDate();\n  }\n  const days = Array.from(new Array(getDays()),(val, index) => 1 + index);\n//   console.log(days);\n// console.log(user);\n\n\n    const registerValidation = Yup.object({\n        first_name: Yup.string().required(\"What's your First Name?\").min(2, \"First Name must be between 2 and 16 characters\").max(16, \"First Name must be between 2 and 16 characters\").matches(/^[aA-zZ\\s]+$/, \"Numbers and special Character are not allowed\"),\n    last_name: Yup.string().required(\"What's your Last Name?\").min(2, \"Last Name must be between 2 and 16 characters\").max(16, \"Last Name must be between 2 and 16 characters\").matches(/^[aA-zZ]+$/, \"Numbers and special Character are not allowed\"),\n    email: Yup.string().required(\"You will require this when you try to login or when you need to change your password.\").email(\"Enter a valid Email Address.\"),\n    password: Yup.string().required(\"Password must contain atleast 6 characters, 1 special charater, 1 number, letters\").min(6, \"Password must be atleast 6 characters\").max(36, \"Password must be atleast 6 characters\"),\n  })\n\n  const [dateError, setDateError] = useState(\"\");\n  const [genderError, setGenderError] = useState(\"\");\n  const [error,setError] = useState(\"\");\n  const [success,setSuccess] = useState(\"\");\n  const [loading,setLoading] = useState(false);\n\n  const registerSubmit=async()=>{\n    try {\n      const {data} = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/register`, {\n        first_name,\n        last_name,\n        email,\n        password,\n        bYear,\n        bMonth,\n        bDay,\n        gender,\n      });\n      setError(\"\");\n      setSuccess(data.message);\n      const{message , ...rest}=data;\n      setTimeout(() => {\n        dispatch({type:\"LOGIN\", payload:rest});\n        Cookie.set(\"user\", JSON.stringify(rest));\n        navigate(\"/\");\n\n      }, 2000);\n    } catch (error) {\n      setLoading(false);\n      setSuccess(\"\");\n      setError(error.response.data.message);\n    }\n  }\n\nreturn (\n  <div>\n    <div className=\"bg-blur absolute top-0 left-0 h-[100%] w-[100%]\">\n    <div className=\"absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] bg-primary shadow-[0_1px_2px] shadow-shadow-1 rounded-[10px] p-[15px] pb-[1rem] w-[350px] h-fit text-primary-color lg:w-[400px] \">\n      <div className=\"relative flex flex-col gap-[10px] pb-[10px] border-b-[1px] border-b-solid border-b-third\">\n        <i className=\"exit_icon absolute right-0 cursor-pointer\" onClick={()=>setVisible(false)}></i>\n        <span className=\"text-[32px] font-bold\">Sign Up</span>\n        <span className=\"text-[15px] text-secondary-color\">It's quick and easy</span>\n      </div>\n      <Formik\n      enableReinitialize\n      initialValues={{\n        first_name,\n        last_name,\n        email,\n        password,\n        bYear,\n        bMonth,\n        bDay,\n        gender,\n      }}\n      validationSchema={registerValidation}\n      onSubmit={() => {\n        let current_date = new Date();\n        let picked_date = new Date(bYear, bMonth - 1, bDay);\n        let atleast14 = new Date(1970 + 14, 0, 1);\n        let noMoreThan70 = new Date(1970 + 70, 0, 1);\n        if(current_date - picked_date < atleast14){\n          setDateError(\"It looks like you have entered the wrong information. Please make sure you are entering your real date of birth.\")\n        }\n        else if(current_date - picked_date > noMoreThan70){\n          setDateError(\"It looks like you have entered the wrong information. Please make sure you are entering your real date of birth.\")\n          }\n          else{\n            setDateError(\"\");\n          }\n          if (gender === ''){\n            setGenderError(\"Please choose a gender. You can change who can see this later.\");\n          }\n          else{\n            setGenderError(\"\");\n            registerSubmit();\n          }\n          \n        }}\n        >\n          {\n            (formik) => (\n              <Form className=\"w-[100%] flex flex-col items-center\">\n                <div className=\"reg_line lg:w-[370px]\">\n                  <RegisterInput type=\"text\" placeholder=\"First Name\" name=\"first_name\" first onChange={handleRegisterChange} />\n                  <RegisterInput type=\"text\" placeholder=\"Last Name\" name=\"last_name\" last onChange={handleRegisterChange} />\n                </div>\n                <div className=\"reg_line\">\n                  <RegisterInput type=\"text\" placeholder=\"Mobile Number or Email Address\" name=\"email\" email onChange={handleRegisterChange} />\n                </div>\n                <div className=\"reg_line\">\n                  <RegisterInput type=\"password\" placeholder=\"New Password\" name=\"password\" pass onChange={handleRegisterChange} />\n                </div>\n                <DateOfBirthSelect bDay={bDay} bMonth={bMonth} bYear={bYear} days={days} months={months} years={years} handleRegisterChange={handleRegisterChange} dateError={dateError} />\n                <GenderSelect handleRegisterChange={handleRegisterChange} genderError={genderError} />\n                <div className=\"text-[11px] mt-[10px] text-secondary-color\">\n                  By clicking Sign Up, you agree to our {\" \"}\n                  <span className=\"text-blue-color\">Terms, Data Policy &nbsp;</span>\n                  and <span className=\"text-blue-color\">Cookie Policy.</span> You may recieve SMS \n                  notifications from us and can opt out at any time.\n                </div>\n                <div className=\"w-[100%] flex items-center justify-center mt-[20px] mx-0 mb-[10px]\">\n                  <button className=\"blue-btn bg-green-color w-[70%] h-[50px] text-[17px] font-bold\">Sign Up</button>\n                </div>\n                <HashLoader loading={loading} color=\"#1C0E7D\" size={30} />\n                {error && <div className=\"text-[#b94a48]\">{error}</div>}\n                {success && <div className=\"text-green-color\">{success}</div>}\n            </Form>\n            )}\n        </Formik>\n      </div>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}